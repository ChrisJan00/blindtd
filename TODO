- doors: check door code to find the bug, the whole thing goes crazy!
- I think the bug is in findroute, it is assumed that a valid path is always  returned.  Since the algorithm can't
find routes across closed doors now, it returns some shit that makes the whole thing go crazy.
- the colors could be weird interactions between the door codes and the scent code (although I thought
scent was ignoring doors)
- findroutes are appended, is that done correctly?
- cannot find route through closed door...
- activators: when a door is open, the activators for what lies behind should expand...

- check all the old code to find how it behaves with the new door code (like, being able to pass through closed doors
because of lack of checking that condition)
- probably it would be better to remap 0. wall, 1. blocked door, 2. closed door, 3. open door
- two types of pathfinding: ignoring closed doors (because they will open) and considering them (for example with actuators)
- cleanup game.lua, there are a lot of new helper functions that nead clearing
- cleanup actuators (and check the other files) for sorting the functions

- actuators:  they have a radius ( euclidian or manhattan )
  - there is an actuator map that holds lists of references to the cells covered by the actuators
    (for example, all cells in the radius of actuator A have a reference to A in their lists)
  - when an entity moves, all the actuators of the cell that is abandoned are notified of the abandon
  - when an entity moves, all the actuators of the new cell are notified of the entry
  - the actuator first processes all the abandons removing them from its own list of references to entities, then the enters
  - finally, the actuator performs an action depending on this list.  Examples:
    - doors: if there is at least one enity at sight, open
	- guns: choose one victim at random and fire it
	- ¨superguns": shoot all the victims in sight
	- mine: if there is at least one victim, explode
	- timebomb:  if the time is over, explode.  All victims affected
	- sensor: report amount of victims detected


- doors that open and close
- orders: be able to give a list of orders to the character, he will follow them in sequence.  Also, cancel order,
break list, prioritize...
- enemies!  that move OK
- scent! OK
- weapons
- radar
- personal info
- radio, heartbeat
- rescue spaceship
- several rooms

=======
- doors (automatic)
- aliens OK
- scent OK
- instructions for the player (list of tasks)
- block doors
- turrets
   - machine gun
   - flame thrower
   - laser
   - electroshock
- mines
- levels
- ui: blinking lights
- ui: text
- chat
- player info
- player radio
- player heartbeat
- spaceship ETA
- radar
- baby
- self destruction
- player emotion in chat
- doors randomly closed
- map of the base
- bombs (time)
- flooding passage
  - histories paraleles?  supervivents?

- change map size in screen
- (radar) animation of the guy walking in the screen
- door animation (open/close)
- door states: open (normal), closed (normal), open broken unknown, close broken unknown, open broken known, close broken known
- in its normal state, the door is closed-normal.  When the guy approaches, it opens automatically and closes behind him
- some doors are damaged from the start.. they stay open or closed and cannot change modus.  At first the player does not know, so they appear in the map as "normal".  When the player approaches, the door will change to its real status, because the user activated the sensor (the idea is that the door sensor sees the guy and tries to "open" but it can't because it's broken, so it changes to "broken closed", and viceversa  for "broken open")
- The player can damage a door and force it closed (block it).  In theory by "damaging the door control circuit panel".  Then the door is displayed as blocked.  The aliens will break doors open:  if the door was opening then it's fine, but if it was blocked, they will break through... the map will display a broken open door.
- If somebody is hitting a door, it will blink in the indicator (because it was probably already blocked, so it was red).  After some moments the aliens break through, so it changes to broken-open.
